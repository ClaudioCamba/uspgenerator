var pznProducts = {
    'dark': {
        's21usp': {
            mainImage: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/Ultra.png',
            bannerHeader: 'Offer Title',
            bannerSubHeader: 'Offer Description †',
            ctaText: "Buy Now",
            ups1img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/ultra-design.png',
            usp1title: 'Design',
            usp1desc: 'Iconic new design with a contour-cut camera design',
            ups2img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/ultra-camera.png',
            usp2title: 'Camera',
            usp2desc: 'New ways of expression with photo and video',
            ups3img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/ultra-performance.png',
            usp3title: 'Performance',
            usp3desc: 'Intelligent Battery outlasts the day — even on 5G',
            shortterm: '',
            longterm: '',
            pdpLink: "https://www.samsung.com/uk/smartphones/galaxy-s21-5g/buy/",
            evar: 35,
            event: 35,
            track: 'mmp:usp:buy now'
        },
        'icon1': {
            mainImage: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/ceot-462/s21ultra_phantom_black_update_2.png?$ORIGIN_PNG$',
            bannerHeader: 'Offer Title',
            bannerSubHeader: 'Offer Description †',
            ctaText: "Buy now",
            ups1img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/tradein-black.png',
            usp1title: 'TRADE-IN',
            usp1desc: 'Trade in your old device for an instant discount',
            ups2img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/klarna-black.png',
            usp2title: 'MONTHLY FINANCE',
            usp2desc: 'Pay on your terms from 6 to 48 months.',
            ups3img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/deliver-black.png',
            usp3title: 'FREE DELIVERY',
            usp3desc: 'Available on all orders to mainland UK',
            shortterm: '',
            longterm: '',
            pdpLink: "https://www.samsung.com/uk/smartphones/galaxy-s21-5g/buy/",
            evar: 35,
            event: 35,
            track: 'mmp:usp:buy now'
        },
        'icon2': {
            mainImage: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/ceot-462/s21ultra_phantom_black_update_2.png?$ORIGIN_PNG$',
            bannerHeader: 'Offer Title',
            bannerSubHeader: 'Offer Description †',
            ctaText: "Buy now",
            ups1img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/tradein-black.png',
            usp1title: 'TRADE-IN',
            usp1desc: 'Trade in your old device for an instant discount',
            ups2img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/klarna-black.png',
            usp2title: 'MONTHLY FINANCE',
            usp2desc: 'Pay on your terms from 6 to 48 months.',
            ups3img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/deliver-black.png',
            usp3title: 'FREE DELIVERY',
            usp3desc: 'Available on all orders to mainland UK',
            shortterm: '',
            longterm: '',
            pdpLink: "https://www.samsung.com/uk/smartphones/galaxy-s21-5g/buy/",
            evar: 35,
            event: 35,
            track: 'mmp:usp:buy now'
        }
    },
    'light': {
        's21usp': {
            mainImage: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/O.png',
            bannerHeader: 'Offer Title',
            bannerSubHeader: 'Offer Description †',
            ctaText: "Buy Now",
            ups1img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/OT-Design.png',
            usp1title: 'Design',
            usp1desc: 'Iconic new design with a contour-cut camera design',
            ups2img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/OT-camera.png',
            usp2title: 'Camera',
            usp2desc: 'New ways of expression with photo and video',
            ups3img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/OT-performance.png',
            usp3title: 'Performance',
            usp3desc: 'Intelligent Battery outlasts the day — even on 5G',
            shortterm: '',
            longterm: '',
            pdpLink: "https://www.samsung.com/uk/smartphones/galaxy-s21-5g/buy/",
            evar: 35,
            event: 35,
            track: 'mmp:usp:buy now'
        },
        'icon1': {
            mainImage: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/ceot-462/s21plus_phantom_violet_update_2.png?$ORIGIN_PNG$',
            bannerHeader: 'Offer Title',
            bannerSubHeader: 'Offer Description †',
            ctaText: "Buy now",
            ups1img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/tradein-white.png',
            usp1title: 'TRADE-IN',
            usp1desc: 'Trade in your old device for an instant discount',
            ups2img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/klarna-white.png',
            usp2title: 'MONTHLY FINANCE',
            usp2desc: 'Pay on your terms from 6 to 48 months.',
            ups3img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/deliver-white.png',
            usp3title: 'FREE DELIVERY',
            usp3desc: 'Available on all orders to mainland UK',
            shortterm: '',
            longterm: '',
            pdpLink: "https://www.samsung.com/uk/smartphones/galaxy-s21-5g/buy/",
            evar: 35,
            event: 35,
            track: 'mmp:usp:buy now'
        },
        'icon2': {
            mainImage: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/ceot-462/s21plus_phantom_violet_update_2.png?$ORIGIN_PNG$',
            bannerHeader: 'Offer Title',
            bannerSubHeader: 'Offer Description †',
            ctaText: "Buy now",
            ups1img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/tradein-white.png',
            usp1title: 'TRADE-IN',
            usp1desc: 'Trade in your old device for an instant discount',
            ups2img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/klarna-white.png',
            usp2title: 'MONTHLY FINANCE',
            usp2desc: 'Pay on your terms from 6 to 48 months.',
            ups3img: 'https://images.samsung.com/is/image/samsung/p5/uk/pzn/toolkit2021/mmpusp/deliver-white.png',
            usp3title: 'FREE DELIVERY',
            usp3desc: 'Available on all orders to mainland UK',
            shortterm: '',
            longterm: '',
            pdpLink: "https://www.samsung.com/uk/smartphones/galaxy-s21-5g/buy/",
            evar: 35,
            event: 35,
            track: 'mmp:usp:buy now'
        }
    }
};

function pznContentUpdate() {

    let productType = $('#im-select option:selected').val();
    let pageType = $('.cg-content-variation input:checked').val();
    // Add/Remove class
    if (productType === 'icon1' || productType === 'icon2') {
        $('.pzn-usp-wrap').addClass('pzn-icon-usp').removeClass('pzn-default-usp');
        if (productType === 'icon2') {
            $('.cg-content-variation [for="dark"] b').text('Black Background USP');
            $('.cg-content-variation [for="light"] b').text('White Background USP');
        } else {
            $('.cg-content-variation [for="dark"] b').text('S21 Ultra USP MMP');
            $('.cg-content-variation [for="light"] b').text('S21/S21+ USP MMP');
        }
    } else {
        $('.pzn-usp-wrap').addClass('pzn-default-usp').removeClass('pzn-icon-usp');
    };
    // toggle between variations
    if (pageType == 'dark') {
        $('.pzn-usp-wrap').removeClass('pzn-white-usp').addClass('pzn-black-usp');
    } else {
        $('.pzn-usp-wrap').addClass('pzn-white-usp').removeClass('pzn-black-usp');
    };

    let mainImage = `${pznProducts[pageType][productType].mainImage}`;
    let bannerHeader = `${pznProducts[pageType][productType].bannerHeader}`;
    let bannerSubHeader = `${pznProducts[pageType][productType].bannerSubHeader}`;
    //let offerCopy = `${pznProducts[pageType][productType].offerCopy}`;
    let ctaText = `${pznProducts[pageType][productType].ctaText}`;
    let pdpLink = `${pznProducts[pageType][productType].pdpLink}`;
    let trackdesc = `${pznProducts[pageType][productType].track}`;
    let dataevent = `${pznProducts[pageType][productType].event}`;
    let dataevar = `${pznProducts[pageType][productType].evar}`;

    let shortDisc = `${pznProducts[pageType][productType].shortterm}`;
    let longDisc = `${pznProducts[pageType][productType].longterm}`;

    let usp1IMG = `${pznProducts[pageType][productType].ups1img}`;
    let usp1TITLE = `${pznProducts[pageType][productType].usp1title}`;
    let usp1DESC = `${pznProducts[pageType][productType].usp1desc}`;

    let usp2IMG = `${pznProducts[pageType][productType].ups2img}`;
    let usp2TITLE = `${pznProducts[pageType][productType].usp2title}`;
    let usp2DESC = `${pznProducts[pageType][productType].usp2desc}`;

    let usp3IMG = `${pznProducts[pageType][productType].ups3img}`;
    let usp3TITLE = `${pznProducts[pageType][productType].usp3title}`;
    let usp3DESC = `${pznProducts[pageType][productType].usp3desc}`;




    $('.pzn-usp-main-img img').attr('src', mainImage);
    $('.pzn-price-wrap .pzn-usp-title').text(bannerHeader);
    $('.pzn-price-wrap .pzn-usp-desc').text(bannerSubHeader);

    $('.pzn-usp-cta a').text(ctaText);
    $('.pzn-usp-cta a').attr('href', pdpLink);
    $('.pzn-usp-cta a').attr('data-aa-evar-desc', trackdesc);
    $('.pzn-usp-cta a').attr('data-aa-event', dataevent);
    $('.pzn-usp-cta a').attr('data-aa-evar', dataevar);
    // Disable CTA ----------------------------------------------------------
    $('.pzn-usp-wrap a').click(function() {
        return false;
    });

    $('.pzn-usp-term p').text(shortDisc);
    $('.long-tandc p').text(longDisc);


    $('.pzn-usp-grid:nth-of-type(1) .pzn-usp-img img').attr('src', usp1IMG);
    $('.pzn-usp-grid:nth-of-type(1) .pzn-sub-head h5').text(usp1TITLE);
    $('.pzn-usp-grid:nth-of-type(1) p').text(usp1DESC);

    $('.pzn-usp-grid:nth-of-type(2) .pzn-usp-img img').attr('src', usp2IMG);
    $('.pzn-usp-grid:nth-of-type(2) .pzn-sub-head h5').text(usp2TITLE);
    $('.pzn-usp-grid:nth-of-type(2) p').text(usp2DESC);

    $('.pzn-usp-grid:nth-of-type(3) .pzn-usp-img img').attr('src', usp3IMG);
    $('.pzn-usp-grid:nth-of-type(3) .pzn-sub-head h5').text(usp3TITLE);
    $('.pzn-usp-grid:nth-of-type(3) p').text(usp3DESC);



};

function select() {
    $('#im-select, #c-v-ultra, #c-v-normal').on('change', function(e) {
        pznContentUpdate();
        addTrackingLinks();
    });
};

//  Replace JavaScript code in script tag here with your test JavaScript code
var getCTA,
    getIMG;
// Initial Functions
select();
pznContentUpdate();


function addTrackingLinks() {

    if ($(".pzn-usp-cta a label").length < 1) {
        jQuery('<label class="tooltiptext addLinkText">[Click Me] Update Text & Links</label>').appendTo(".pzn-usp-cta a");
    };
    jQuery(".pzn-usp-cta .tooltiptext.addLinkText").on("click", function() {
        getCTA = jQuery(this).parent();
        jQuery('.editLink-container').show();
    });
};

function updateImageUrl() {
    if ($(".pzn-usp-img label").length < 1) {
        jQuery('<label class="tooltiptext addLinkText">[Click Me] Change image</label>').appendTo(".pzn-usp-img");
    };
    if ($(".pzn-usp-main-img label").length < 1) {
        jQuery('<label class="tooltiptext addLinkText">[Click Me] Change image</label>').appendTo(".pzn-usp-main-img");
    };
    jQuery(".pzn-usp-img .tooltiptext.addLinkText, .pzn-usp-main-img .tooltiptext.addLinkText").on("click", function() {
        getIMG = jQuery(this).parent();
        jQuery('.link-container').show();
    });
};


addTrackingLinks();
updateImageUrl();

/* Additional Input field functionality */
function addInputLightBox() {
    /* Event Handlers for Lightbox Edit Link */

    jQuery(".editLink-container .save-btn").on("click", function() {
        jQuery('.editLink-container').hide();

        if (jQuery(".editLink-container .get-text").val() !== "") {
            pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()]['ctaText'] = jQuery(".editLink-container .get-text").val().replaceAll(/[']/g, "’").replaceAll(/["]/g, "“");
        }
        if (jQuery(".editLink-container .get-link").val() !== "") {
            pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()]['pdpLink'] = jQuery(".editLink-container .get-link").val().replaceAll(/[']/g, "’").replaceAll(/["]/g, "“");
        }
        if (jQuery(".editLink-container .get-evar").val() !== "") {
            pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()]['evar'] = Number(jQuery(".editLink-container .get-evar").val().replaceAll(/[']/g, "’").replaceAll(/["]/g, "“"));
        }
        if (jQuery(".editLink-container .get-event").val() !== "") {
            pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()]['event'] = Number(jQuery(".editLink-container .get-event").val().replaceAll(/[']/g, "’").replaceAll(/["]/g, "“"));
        }
        if (jQuery(".editLink-container .get-evar-desc").val() !== "") {
            pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()]['track'] = jQuery(".editLink-container .get-evar-desc").val().replaceAll(/[']/g, "’").replaceAll(/["]/g, "“");
        }

        pznContentUpdate();
        addTrackingLinks();
        updateImageUrl();
    });

    jQuery(".editLink-container .cancel-btn").on("click", function() {
        jQuery('.editLink-container').hide();
    });
}
addInputLightBox();

function addUrlLightBox() {
    /* Event Handlers for Lightbox Edit Link */

    jQuery(".link-container .save-btn").on("click", function() {
        jQuery('.link-container').hide();

        if (jQuery(".link-container .get-link").val() !== "") {
            console.log($(getIMG).find('img').attr('src'));
            //console.log($(getIMG).find('img').attr('loc'));
            pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()][$(getIMG).find('img').attr('loc')] = $('.link-container .get-link').val();
        }

        pznContentUpdate();
        addTrackingLinks();
        updateImageUrl();
    });

    jQuery(".link-container .cancel-btn").on("click", function() {
        jQuery('.link-container').hide();
    });
}
addUrlLightBox();


function addEditableClass() {
    jQuery(".test-code").find("h5, h4, h3, h2, h1, p, span, strong").addClass("edit").attr("contenteditable", "true");
    //jQuery(".test-code").find(".ca-product-cta").removeClass("edit").removeAttr("contenteditable");
    //jQuery(".test-code a").removeAttr("href");

    /* Find all content editable fields and change the way text is pasted into them */
    for (var i = 0; i < jQuery(".edit").length; i++) {
        jQuery(".edit")[i].addEventListener("paste", function(e) {
            e.preventDefault();
            var text = e.clipboardData.getData("text/plain");
            document.execCommand("insertHTML", false, text);
        });
    }

    jQuery(".edit").on('keydown', function(e) {
        if (e.keyCode == 13 || e.keyCode == 13 && e.shiftKey == true) {
            e.preventDefault();
            document.execCommand("insertLineBreak");
        }
    });
}
addEditableClass();

function checkWidthChange() {
    var cgWidth = $('.cg-container').innerWidth();
    if (cgWidth < 1030) {
        $('.cg-container').addClass('open-nav');
    } else {
        $('.cg-container').removeClass('open-nav');
    }

    if (window.innerWidth < 1200 && cgWidth > 760) {
        $('.cg-container').addClass('small-scrn');
    } else {
        $('.cg-container').removeClass('small-scrn');
    }
    if (window.innerWidth > 1200 && window.innerWidth < 1440) {
        $('.cg-container').addClass('laptop-scrn');
    } else {
        $('.cg-container').removeClass('laptop-scrn');
    }
    if (window.innerWidth > 1399 && window.innerWidth < 1600) {
        $('.cg-container').addClass('laptopHiDPI-scrn');
    } else {
        $('.cg-container').removeClass('laptopHiDPI-scrn');
    }
}
setInterval(checkWidthChange, 500);

// Editable update object
$('[contenteditable="true"]').on('blur', function() {
    //$(this).text($(this).text().replaceAll(/[']/g, "’").replaceAll(/["]/g, "“"));
    pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()][$(this).attr('loc')] = $(this).text().replaceAll(/[']/g, "’").replaceAll(/["]/g, "“").trim();
    pznContentUpdate();
    addTrackingLinks();
    //console.log(pznProducts);
});


/* Your test styling if in style tags needs to be added here within the brackets */
var s = `<style type="text/css">
      .pzn-icon-usp .pzn-usp-img {
          width: 100px;
          height: 100px;
        }
      .pzn-icon-usp .pzn-sub-head {
          padding: 5px 0;
        }
      .pzn-icon-usp .pzn-main-usp-grid > .pzn-usp-main-img {
          /*width: 150px;*/
        }
      .pzn-icon-usp .pzn-usp-grid {
        margin-top: 0px;
      }
      .pzn-black-usp.pzn-icon-usp .pzn-usp-grid-wrap {
        background: #fff;
    }
    .pzn-white-usp.pzn-icon-usp .pzn-usp-grid-wrap {
        background: #2d2c2a;
    }

    .pzn-black-usp.pzn-icon-usp .pzn-usp-copy p,
    .pzn-black-usp.pzn-icon-usp .pzn-usp-copy h5,
    .pzn-black-usp.pzn-icon-usp .pzn-price-wrap p {
        color: #000;
      }
      .pzn-white-usp.pzn-icon-usp .pzn-usp-copy p,
      .pzn-white-usp.pzn-icon-usp .pzn-usp-copy h5,
      .pzn-white-usp.pzn-icon-usp .pzn-price-wrap p {
        color: #fff;
    }
      .pzn-black-usp.pzn-icon-usp .addlinks .tooltiptext {
          background-color: #000 !important;
          color: #fff !important;
        }
        .pzn-icon-usp .pzn-usp-cta a:hover,
        .pzn-icon-usp  .pzn-usp-cta a  {
          background: #2189ff!important;
        border: 1px solid #2189ff!important;
        color: #fff!important;
        text-transform: none!important;
        width: 100%;
        text-align: center;
        border-radius: 50px;
        height: 40px;
        line-height: 40px;
        }

      /* Update */
      .pzn-usp-term p:empty,
      .pzn-terms:empty,
      .pzn-usp-desc:empty {
        display:none;
      }
      /* Update */
      .pzn-white-usp .pzn-usp-copy h5 {
        color: #000;
      }
      .pzn-white-usp .pzn-usp-copy p {
        color: #000;
      }
      .pzn-white-usp .pzn-price-wrap p {
        color: #000;
      }
      .pzn-white-usp .pzn-usp-cta a {
        border: 1px solid #000;
        color: #000;
      }
      .pzn-white-usp .pzn-usp-cta a:hover {
        background: #000;
        color: #fff;
    }
    .pzn-white-usp .pzn-usp-sub-wrap {
        background: #fff;
    }
    .pzn-white-usp .pzn-usp-term p {
      color: #000;
    }
      /*------*/
      .pzn-usp-term {
        max-width: 1440px;
        text-align: center;
        margin: 0 auto;
        padding: 0 25px;
    }
      .pzn-usp-term p {
        text-align: center;
        font-family: 'SamsungOne', arial, sans-serif;
        display: block;
        font-size: 12px;
        color: #fff;
        margin: 0 auto;
        display: inline-block;
        margin-top: 30px;
    }
      .pzn-usp-sub-wrap {
        margin: 0 auto;
        background: none;
        /* border-radius: 50px; */
            padding: 150px 0;

            background: #000;
      }
      .pzn-usp-grid-wrap {
        text-align: center;
        font-size: 0;
        /* padding: 150px 0; */
        background: none;
        max-width: 1440px;
        padding: 35px 25px;
        border-radius: 25px;
        margin: 0 auto;
        display: flex;
        align-items: start;
        justify-content: center;
      }

      .pzn-usp-grid {
        /* width: 212px;
        display: inline-block;
        margin-right: 70px; */
        width: 200px;
        display: inline-block;
        margin-right: 70px;
            margin-top: 0px;
      }
      .pzn-usp-grid:not(:last-child) {
        /* border-right: 1px solid #fff; */
      }
      .pzn-usp-img img {
        margin: 0 auto;
      }

      /* .pzn-usp-img {
        position: relative;
        height: 123px;
      } */
      .pzn-usp-img .usp-mob {
        display:none;
      }
      /* .pzn-usp-img img {
        width: auto!important;
        height: auto!important;
        vertical-align: middle;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
      } */
      .pzn-usp-copy h5 {
        font-family: 'SamsungOne', arial, sans-serif;
        font-weight: 900!important;
        /* font-weight: bold !important; */
        font-size: 16px;
        /* text-transform: uppercase; */
        letter-spacing: 0.12em;
        color: #fff;
        text-transform: none;
      }
      .pzn-sub-head {
          /* padding: 30px 0 10px 0; */
                padding: 25px 0 5px 0;
          text-align: center;
      }
      .pzn-usp-copy p {
        font-family: 'SamsungOne', arial, sans-serif;
        font-size: 16px;
        line-height: 22px;
        color: #fff;
      }
      /* .pzn-usp-copy {
        padding: 0px 16px;
        height: 140px;
      } */
      .pzn-usp-grid:not(:last-child) {
        /* border-right: 1px solid #fff; */
      }

      /* .pzn-usp-grid:nth-child {
        padding-right: 40px;
        padding-left: 40px;
      } */
      .pzn-main-usp-grid {
        /* width: 385px; */
        /* margin-top: 35px; */
        text-align: left;
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
      }
      .pzn-usp-main-img img {
        width: 100%;
        height: auto;
    }
    .pzn-main-usp-grid > .pzn-usp-main-img {
      width: 100px;
      margin-right: 30px;
    }
    .pzn-main-usp-grid > .pzn-ups-main-price {
      width: 180px;
      text-align: left;
    }
    .pzn-usp-cta a {
      display: inline-block;
      border: 1px solid #fff;
      color: #fff;
      white-space: nowrap;
      height: 50px;
      line-height: 50px;
      padding: 0 38px;
      vertical-align: top;
      border-radius: 10px;
      box-sizing: border-box;
      font-family: 'SamsungOne', arial, sans-serif;
      font-weight: bold !important;
      font-size: 14px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      transition: 0.3s;
    }
    .pzn-usp-img {
      width: 190px;
      /* height: 116px; */
      height: auto;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
      height: 90px;
    }
    .pzn-usp-img img {
    /* max-width: 190px;
    height: auto;
    max-height: 116px; */
    /* max-width: 154px; */
    /* max-width: 100px;
    height: auto;
    max-height: 60px; */
    width: auto;
    height: auto;
    max-width: 170px;
    max-height: 85px;
    }
    hr.pznStyledLine {
      max-width: 1440px;
      margin-top: 30px;
      display: block!important;
      border: 0;
      height: 2px;
      background-image: -webkit-linear-gradient(left, #000, #fff, #000);
      background-image: -moz-linear-gradient(left, #000, #fff, #000);
      background-image: -ms-linear-gradient(left, #000, #fff, #000);
      background-image: -o-linear-gradient(left, #000, #fff, #000);
      /* -webkit-filter: invert(100%);
      filter: invert(100%); */
      display:none!important;
    }
    .pzn-price-wrap p {
      color: #fff;
      font-size: 18px;
      font-family: 'SamsungOne', arial, sans-serif;
      font-weight: 900;
      line-height: 1.3;
    }
    .pzn-price-wrap p:nth-of-type(2) {
      font-weight: 100;
      /*font-size: 16px;*/
    }
    .pzn-price-wrap p:nth-of-type(2) {
        padding-top: 10px;
    }
    .pzn-price-wrap {
      margin-top: 5px;
    }
    .pzn-usp-cta {
        margin-top: 20px;
    }
    .pzn-price-wrap small {
        line-height: 1.4;
        padding-top: 10px;
        display: block;
        font-weight: 300;
        font-size: 16px;
    }
    .pzn-price-wrap sup {
      line-height: 2.5!important;
      margin-left: 3px;
    }
    .pzn-usp-cta a:hover {
        background: #fff;
        color: #000;
    }
    .pzn-short-term {
        font-size: 12px;
        display: block!important;
        flex-basis: 100%;
        color: #fff;
        font-family: 'SamsungOne', arial, sans-serif;
        line-height: 1.4;
        padding-top: 60px;
        width: 75%;
        text-align: center;
        margin: auto;
    }

    /* icon update */
    .pzn-icon-usp .pzn-main-usp-grid {
      width: 34%;
      justify-content: start;
    }
    .pzn-icon-usp .pzn-main-usp-grid > .pzn-usp-main-img {
      width: 40%!important;
      margin-right: 0;
      padding-right: 5%;
    }
    .pzn-icon-usp .pzn-main-usp-grid > .pzn-ups-main-price {
      width: 55%!important;
    }
    .pzn-icon-usp .pzn-usp-grid {
      width: 19%;
      padding-right: 3%;
      margin-right: 0;
    }
      /* MMP BREAKING POINTS--------------------------------------------------------*/
      /* top - 1441/Plus - 1230px */
      /* S3 - 1024/1440 - 944px */
      /* S2 - 768/1023 - 696px */
      /* S1 - 0/767 - Auto */
      /* @media only screen and (min-width:1441px) {
        .pzn-usp-sub-wrap {

        }
      } */
    @media only screen and (min-width: 785px) and (max-width: 1440px) {

      .pzn-usp-grid-wrap {
          margin: 0 25px!important;
        }
     .pzn-usp-grid-wrap {
        /* padding: 10.4166vw 0; */
      }
      .pzn-usp-sub-wrap {
          padding: 5.7142vw 0;
      }
      .pzn-usp-grid {
        /* width: 14.7222vw;
        margin-right: 4.8611vw; */
        /* width: 17.7222vw;
            margin-right: 2.8611vw; */
            width: 15.9222vw;
    margin-right: 5vw;
        margin-top: 2.5vw;
      }
      .pzn-usp-img {
        /* width: 13.1944vw; */
        /* height: 8.0555vw; */
        /* height: 4vw; */
        width: 14.1944vw;
        /* height: 8.0555vw; */
        height: auto;
      }
      /* .pzn-usp-img img {
        max-width: 13.1944vw;
        max-height: 8.0555vw;
      } */
      .pzn-sub-head {
        /* padding: 1.0833vw 0 0.6944vw 0; */
            padding: 1.7361vw 0 0.3472vw 0;
      }
      .pzn-usp-copy h5 {
        /* font-size: 1.25VW; */
        /* font-size: 1.3VW; */
        font-size: 1.2VW;
      }
      .pzn-usp-copy p {
        /* font-size: 1.25VW;
    line-height: 1.6666vw; */
    font-size: 1.26VW;
    line-height: 1.7666vw;
      }
      .pzn-price-wrap p {
        /* font-size: 1.25VW; */
        font-size: 1.5VW;
      }
      .pzn-price-wrap small {
        /* padding-top: 0.6944vw;
        font-size: 1.1111vw; */
        padding-top: 1.0944vw;
        font-size: 1.36VW;
      }
      .pzn-usp-cta {
        margin-top: 1.3888vw;
    }
    .pzn-usp-cta a {
      height: 3.525VW;
      line-height: 3.525VW;
      padding: 0 2.666vw;
      border-radius: 0.6944vw;
      font-size: 0.9722vw;
      letter-spacing: 0.0347vw;
    }
    .pzn-main-usp-grid {
        /* margin-top: 2.4305vw; */
        margin-top: 0;
      }
      .pzn-main-usp-grid > .pzn-usp-main-img {
        /* width: 9.0555vw;
        margin-right: 2.0833vw; */
        width: 8vw;
    margin-right: 1.5vw;
    }
    hr.pznStyledLine,
    .pzn-usp-term p {
      margin-top: 2.0833vw;
    }

    .pzn-usp-img img {
        /* max-width: 7.9444vw;
        max-height: 5.1666vw; */
        max-width: 100%;
        max-height: unset;
    }
    .pzn-main-usp-grid > .pzn-ups-main-price {
        width: 14.5VW;
        text-align: left;
    }
    /*icon update*/
    .pzn-icon-usp .pzn-usp-img {
      width: 6.9444vw;
    height: 6.9444vw;
    }

    .pzn-icon-usp .pzn-main-usp-grid > .pzn-ups-main-price {
      width: 19.5VW;
    }
    .pzn-icon-usp .pzn-usp-cta a {
      padding: 0 1.666vw;
      font-size: 1.32VW;
    }
    .pzn-icon-usp .pzn-main-usp-grid {
      width: 36%;
    }
    .pzn-icon-usp .pzn-price-wrap p {
        font-size: 1.4VW;
    }
    .pzn-icon-usp .pzn-usp-copy p,
    .pzn-icon-usp .pzn-usp-copy h5 {
      font-size: 1.32VW;
      line-height: 1.3;
    }
    .pzn-icon-usp .pzn-main-usp-grid > .pzn-usp-main-img {
          width: auto;
      }
      .pzn-usp-grid-wrap {
          padding: 2.4305vw 1.7361vw;
        }

    /*icon update*/

    }

      /* @media only screen and (min-width: 1024px) and (max-width: 1440px) {
        .pzn-usp-sub-wrap {
        }
        .pzn-usp-grid {
          width: 21%;
        }
        .pzn-usp-wrap {
        padding: 120px 0;
        }
        .pzn-usp-copy h5 {
          font-size: 14px;
        }
        .pzn-usp-copy p {
          font-size: 14px;
          line-height: 21px;
          height: 100px;
        }
        .pzn-usp-copy {
          height: auto;
          padding: 0 15px;
        }

      } */

      /* @media only screen and (min-width: 768px) and (max-width: 1023px) {
        .pzn-usp-wrap {
            padding: 100px 0;
        }

        .pzn-usp-img .usp-dsk {
          display:none;
        }
        .pzn-usp-img .usp-mob {
          display:block;
        }
        .pzn-usp-grid-wrap {
          padding: 50px 15px;
        }
        .pzn-sub-head {
          height: 35px;
        }
        .pzn-usp-copy h5 {
          font-size: 16px;
        }
        .pzn-usp-copy {
          padding: 0 16px 16px;
          height: auto;
        }
      } */
    @media only screen and (max-width:784px) {
      .pzn-usp-grid:nth-of-type(1) {
        padding-top: 0;
    }
      .pzn-usp-main-img img {
        width: 100%;
        height: auto;
        padding-right: 15px;
    }

    .pzn-usp-grid-wrap {
      display: block;
      margin: 0 20px;
        /* padding: 19.5058vw 0; */
        max-width:100%;
            padding: 4.3694vw 20px 8.3694vw;
            border-radius: 30px;
    }
    .pzn-usp-sub-wrap {
      padding: 10.4166vw 0;
    }
    /* .pzn-usp-grid {
        width: 100%;
        margin-right: 0;
    } */

    .pzn-main-usp-grid > .pzn-usp-main-img {
      width: 100%;
      max-width: 121px;
      margin-right: auto;
      margin-left: auto;
      /* display: block; */
      display: inline-block;
    }
    .pzn-main-usp-grid > .pzn-ups-main-price {
      width: 100%;
      display: inline-block;
      text-align: left;
    }
    .pzn-usp-grid {
      width: 100%;
      max-width: 350px;
      display: block;
      margin-right: auto;
      margin-left: auto;
      padding-top: 30px;
          /* padding: 0px 10%; */
          /* padding-top: 8vw; */
    }
    .pzn-main-usp-grid {
      width: 100%;
      max-width: 400px;
      margin-top: 0;
      margin-right: auto;
      margin-left: auto;
      display: block;
      padding-top: 50px;
      /* padding-top: 10vw;
      padding-left: 2vw; */
    }
    .pzn-usp-grid:nth-of-type(1),
    .pzn-usp-grid:nth-of-type(2) {
      /* padding-top:0!important; */
    }
    /* .pzn-usp-copy p {
      font-size: 6px;
    } */
    .pzn-usp-grid > div {
        /* max-width: 35.2587vw; */
        margin: 0 auto;
    }
    .pzn-usp-img {
        max-width: 190px;
        max-height: 116px;
      }
      .pzn-usp-copy h5 {
        font-size: 20px;
          /* font-size: 2.9407vw; */
      }
      .pzn-sub-head {
        padding: 3.9011vw 0 1.3003vw 0;
      }
      .pzn-usp-copy p {
        font-size: 18px;
        line-height: 1.5;
      }
      .pzn-price-wrap p {
        /* font-size: 2.806vw;
        line-height: 1.4; */
    font-size: 20px;
        line-height: 1.5;
      }
      .pzn-price-wrap small {
        line-height: 1.5;
        font-size: 18px;
    }
    .pzn-price-wrap sup {
    font-size: 1.1703vw;
    }

    .pzn-price-wrap {
      margin-top: 20px;
      text-align: center;
    }
    .pzn-usp-cta {
      margin-top: 30px;
      text-align: center;
    }
    .pzn-usp-cta a {
      border-radius: 10px;
      height: 65px;
      line-height: 65px;
      font-size: 18px;
      min-width: 248px;
    }
    /* .pzn-usp-grid:nth-of-type(1) .pzn-usp-img img {
      width: 24.7074vw;
    height: auto;
    min-width:190px;
    }
    .pzn-usp-grid:nth-of-type(2) .pzn-usp-img img {
      width: 20.6762vw;
    height: auto;
    min-width:159px;
    }
    .pzn-usp-grid:nth-of-type(3) .pzn-usp-img img {
      width: 17.5552vw;
    height: auto;
    min-width:135px;
    } */
    .pzn-usp-img {
        /* height: 18vw; */
    }
    .pzn-price-wrap small {
      line-height: 1.5;
      /* font-size: 2.4806vw; */
          font-size: 18px;
      font-weight: 300;
      padding-top: 1.5vw;
      display: block;
    }
    .pzn-usp-grid:nth-of-type(3) {
        /* padding-right: 2vw;
                width: 45%; */
    }
    .pzn-usp-grid:nth-of-type(2) {
        /* padding-left: 2vw; */
    }
    .pzn-usp-grid:nth-of-type(1) {
        /* padding-right: 2vw; */
    }

    .pzn-usp-img > img {
        width: 80%;
        height: auto;
        max-height: unset;
    }
    .pzn-usp-img {
        display: inline-block;
        width: 40%;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: left;
    }

    .pzn-usp-grid > .pzn-usp-copy {
        display: inline-block;
        width: 60%;
        text-align: left;
    }
    .pzn-sub-head {
      text-align: left;
    }
    .pzn-usp-grid {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .pzn-usp-grid {
    max-width: 500px;
    }
    .pzn-sub-head {
        padding: 0.9011vw 0 0.3003vw 0;
    }
    .pzn-main-usp-grid > .pzn-usp-main-img {
        width: 30%;
        max-width: unset;
        margin-right: auto;
        margin-left: auto;
        display: inline-block;
    }
    .pzn-usp-main-img img {
        width: 100%;
        height: auto;
        padding-right: 20%;
    }
    .pzn-price-wrap {
          margin-top: 0px;
        text-align: left;
    }
    .pzn-usp-cta a {
      text-align: center;
    }
    .pzn-usp-cta {
        text-align: left;
    }
    .pzn-main-usp-grid {
      max-width: 500px;
    }
    .pzn-main-usp-grid > .pzn-ups-main-price {
        width: 70%;
        display: inline-block;
        text-align: left;
        padding-left:5%;
    }
    .pzn-usp-img img {
        margin: unset;
    }
    .pzn-usp-img {
        max-width: unset;
        max-height: unset;
    }
    .pzn-usp-grid > .pzn-usp-copy {
        padding-left: 10%;
    }
    /* icon update */
    .pzn-icon-usp .pzn-usp-grid {
        width: 100%;
        padding-right: unset;
        margin: 0 auto;
    }
    .pzn-icon-usp .pzn-main-usp-grid {
        width: 100%!important;
      }
      .pzn-icon-usp .pzn-usp-main-img img {
        width: 100%;
        height: auto;
        padding-right: unset;
      }
      .pzn-icon-usp .pzn-usp-cta a {
          font-size: 14px;
          letter-spacing: 1px;
      }
      .pzn-icon-usp .pzn-usp-img > img {
          width: 100%;
        }
      .pzn-icon-usp .pzn-usp-grid-wrap {
          padding: 8.3694vw 20px 8.3694vw;
        }
    }
    @media only screen and (max-width:534px) {

      .pzn-usp-copy h5 {
          font-size: 18px;
        }
        .pzn-usp-copy p {
        font-size: 16px;
      }
      .pzn-usp-img {
        height: auto;
    }

    .pzn-usp-grid {
        max-width: 350px;

      }
      .pzn-icon-usp .pzn-usp-grid {
          max-width: 400px;
      }

      .pzn-price-wrap p {
        font-size: 18px;
      }
      .pzn-price-wrap small {
        font-size: 16px;
      }
      .pzn-usp-cta a {
        height: 44px;
    line-height: 44px;
    border-radius: 6px;
    padding: 0 18px;
    min-width: 184px;
    box-sizing: border-box;
    font-family: SamsungOne;
    font-weight: bold !important;
    font-size: 14px;
    letter-spacing: 0.14em;
    text-transform: uppercase;
      }
      .pzn-main-usp-grid {
        max-width: 350px;
      }
      .pzn-icon-usp .pzn-main-usp-grid {
        max-width: 400px;
      }


      .pzn-usp-img > img {
        width: 100%;
    }

    .pzn-usp-copy h5 {
        font-size: 14px;
        font-weight: bold!important;
        letter-spacing: 0.05em;
    }
    .pzn-usp-img {
        width: 40%;
      }
      .pzn-usp-copy p {
        font-size: 14px;
    }
    .pzn-usp-grid-wrap {
        margin: 0 20px;
        border-radius: 30px;
      }
      .pzn-price-wrap p {
        font-size: 16px;
    }
    .pzn-price-wrap small {
        font-size: 14px;
    }
    .pzn-usp-cta {
        margin-top: 20px;
      }
      .pzn-usp-cta a {
        min-width: 150px;
      }
      .pzn-usp-img img {
        margin: unset;
    }
    .pzn-usp-img {
        max-width: unset;
        max-height: unset;
    }
    .pzn-icon-usp .pzn-main-usp-grid > .pzn-ups-main-price {
          width: 60%!important;
          padding-left: 0;
      }
      .pzn-icon-usp .pzn-main-usp-grid {
        padding-top: 30px;
      }
      .pzn-icon-usp .pzn-usp-grid > .pzn-usp-copy {
          padding-left: 4%;
      }
      .pzn-icon-usp .pzn-usp-grid {
        padding-top: 10px;
      }
      .pzn-icon-usp .pzn-usp-img {
          width: 18.7265vw;
          height: 18.7265vw;
      }


    }
     </style>`;
jQuery(s).appendTo("head");

/* Keep this function for copying the code block */
function copied() {
    const el = jQuery(".code-block");
    el.select();
    document.execCommand('copy');
}
/* Keep this function for generating the code but change the values to suit your test */
function submission() {

    var cleanHTML;

    $('.pzn-im-cataf-tk .pzn-home-kv-carousel__headline').text($('.pzn-im-cataf-tk .pzn-home-kv-carousel__headline').text().replace(/[']/g, "’").replace(/["]/g, "“"));
    $('.pzn-im-cataf-tk .pzn-home-kv-carousel__desc').text($('.pzn-im-cataf-tk .pzn-home-kv-carousel__desc').text().replace(/[']/g, "’").replace(/["]/g, "“"));

    /* Clean up the entire HTML before getting ready to push it into Code Block */
    jQuery(".test-code").find("h5, h4, h3, h2, h1, p, span, strong").removeClass("edit").removeAttr("contenteditable");
    jQuery('.tooltiptext.addLinkText').remove();


    var changeAllThis = "h2, a, p, span, strong, h1, h3";
    for (var a = 0; a < jQuery(changeAllThis).length; a++) {
        if (jQuery(changeAllThis).eq(a).text().indexOf("'") > -1) {
            jQuery(changeAllThis).eq(a).text(jQuery(changeAllThis).eq(a).text().replace(/[']/g, "’"));
        }
        if (jQuery(changeAllThis).eq(a).text().indexOf('"') > -1) {
            jQuery(changeAllThis).eq(a).text(jQuery(changeAllThis).eq(a).text().replace(/["]/g, "“"));
        }
    }
    cleanHTML = jQuery(".test-copy").html();
    addEditableClass(); //turn content editable back on
    addTrackingLinks(); //turn tracking/links pop up back on
    updateImageUrl(); //turn img update back on

    // Single variation
    if ($('#im-select').find(":selected").val() === 'icon2') {
        pznDataVal = pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()];

        var getEVar = pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()]['evar'],
            getEvent = pznProducts[$('.cg-content-variation input:checked').val()][$('#im-select').find(":selected").val()]['event'];
        console.log('Single');
    } else {
        // Multiple variation
        var pznDataVal = {
            'light': pznProducts['light'][$('#im-select option:selected').val()],
            'dark': pznProducts['dark'][$('#im-select option:selected').val()]
        };

        var getDarkEVar = pznProducts['dark'][$('#im-select').find(":selected").val()]['evar'],
            getDarkEvent = pznProducts['dark'][$('#im-select').find(":selected").val()]['event'],
            getLightEVar = pznProducts['light'][$('#im-select').find(":selected").val()]['evar'],
            getLightEvent = pznProducts['light'][$('#im-select').find(":selected").val()]['event'];
        console.log('Multiple');
    };

    /* Your test javascript code if any needs to be added here within the brackets */
    var c = `<script type="text/javascript">

      document.documentElement.style.opacity = "0"; //at the very top to lessen flicker

     // function to send analytics data
     function lightData(data) {
       s.linkTrackVars="eVar` + getLightEVar + `,events";
       s.events="event` + getLightEvent + `";
       s.eVar` + parseInt(getLightEVar) + ` = data;
       s.tl(this,'o');
     };
     function darkData(data) {
       s.linkTrackVars="eVar` + getDarkEVar + `,events";
       s.events="event` + getDarkEvent + `";
       s.eVar` + parseInt(getDarkEVar) + ` = data;
       s.tl(this,'o');
     };


     function canvasUSP() {

            var pznUSPValues = '` + JSON.stringify(pznDataVal) + `';
            pznUSPValues = JSON.parse(pznUSPValues);
            var pznCorrectValue;

            var pznS21USPMMP = '` + cleanHTML.trim().replace(/\s+/g, ' ') + `';

            // Black / White variations
            if (window.location.href.indexOf('/smartphones/galaxy-s21-5g') > -1){
              pznCorrectValue = 'light';
              pznS21USPMMP = pznS21USPMMP.replace('pzn-black-usp','pzn-white-usp');

            } else if (window.location.href.indexOf('/smartphones/galaxy-s21-ultra-5g') > -1){
              pznCorrectValue = 'dark';
              pznS21USPMMP = pznS21USPMMP.replace('pzn-white-usp','pzn-black-usp');
            };

             $(pznS21USPMMP).insertAfter('section#overview');

             // Input values ---------------------------------------
               for (var u=0; u<$('[loc]').length; u++){
                 if ($('[loc]').eq(u).prop('nodeName') === 'IMG'){
                   $('[loc]').eq(u).attr('src',pznUSPValues[pznCorrectValue][$('[loc]').eq(u).attr('loc')]);
                 } else if ($('[loc]').eq(u).prop('nodeName') === 'A'){
                   $('[loc]').eq(u).attr('href',pznUSPValues[pznCorrectValue][$('[loc]').eq(u).attr('loc')]);
                   $('[loc]').eq(u).attr('data-aa-evar-desc',pznUSPValues[pznCorrectValue]['track']);
                   $('[loc]').eq(u).attr('title',pznUSPValues[pznCorrectValue]['ctaText']);
                   $('[loc]').eq(u).text(pznUSPValues[pznCorrectValue]['ctaText']);
                 } else {
                   $('[loc]').eq(u).text(pznUSPValues[pznCorrectValue][$('[loc]').eq(u).attr('loc')]);
                 };
               };
               // Disclaimer
               $('.footer-left').append('<p class="pzn-terms">'+pznUSPValues[pznCorrectValue]['longterm']+'</p>');

            // Tracking Info ---------------------------------------
            if (pznCorrectValue === 'dark'){
              console.log('dark');
              $('.pzn-usp-cta a').on('click', function(){
                darkData($(this).attr('data-aa-evar-desc'));
              });
            } else if (pznCorrectValue === 'light'){
              console.log('light');
              $('.pzn-usp-cta a').on('click', function(){
                lightData($(this).attr('data-aa-evar-desc'));
              });
            };

            // Scroll to sections
            if ($('.pzn-default-usp').length>0){
              // Display scroll
              $('.pzn-usp-grid-wrap .pzn-usp-grid').eq(0).click(function() {
                  $([document.documentElement, document.body]).animate({
                      scrollTop: $("#design-and-display").offset().top
                  }, 2000);
              });
              // Camera scroll
              $('.pzn-usp-grid-wrap .pzn-usp-grid').eq(1).click(function() {
                  $([document.documentElement, document.body]).animate({
                      scrollTop: $("#pro-grade-video").offset().top
                  }, 2000);
              });
              // Performance scroll
              $('.pzn-usp-grid-wrap .pzn-usp-grid').eq(2).click(function() {
                  $([document.documentElement, document.body]).animate({
                      scrollTop: $("#performance").offset().top
                  }, 2000);
              });
            }

            document.documentElement.style.opacity = "1"; //at the very end of the main function to lessen flicker
            }

            /**** Check if jQuery exists ****/
            var checkingUSPjQuery = setInterval(function() {
            if (window.jQuery){
              if($('.pzn-usp-wrap').length==0 && $('section#kv-type2').length>0){
                clearInterval(checkingUSPjQuery); //clear interval (Always clear your timers/intervals when the task has been completed)
                canvasUSP(); //load main function
              };
            }else if(document.readyState === 'complete'){ //aditional chck in case jQuery never exists
                document.documentElement.style.opacity = "1"; //bring back current content so page does not stay blank
            };
            }, 100);
     <` + `/script>`;

    var v = `<script type="text/javascript">

   document.documentElement.style.opacity = "0"; //at the very top to lessen flicker

  // function to send analytics data
  function lightData(data) {
    s.linkTrackVars="eVar` + getEVar + `,events";
    s.events="event` + getEvent + `";
    s.eVar` + parseInt(getEVar) + ` = data;
    s.tl(this,'o');
  };

  function canvasUSP() {

         var pznUSPValues = '` + JSON.stringify(pznDataVal) + `';
         pznUSPValues = JSON.parse(pznUSPValues);

         var pznS21USPMMP = '` + cleanHTML.trim().replace(/\s+/g, ' ') + `';
         $(pznS21USPMMP).insertAfter('section#overview');

         // Input values ---------------------------------------
           for (var u=0; u<$('[loc]').length; u++){
             if ($('[loc]').eq(u).prop('nodeName') === 'IMG'){
               $('[loc]').eq(u).attr('src',pznUSPValues[$('[loc]').eq(u).attr('loc')]);
             } else if ($('[loc]').eq(u).prop('nodeName') === 'A'){
               $('[loc]').eq(u).attr('href',pznUSPValues[$('[loc]').eq(u).attr('loc')]);
               $('[loc]').eq(u).attr('data-aa-evar-desc',pznUSPValues['track']);
               $('[loc]').eq(u).attr('title',pznUSPValues['ctaText']);
               $('[loc]').eq(u).text(pznUSPValues['ctaText']);
             } else {
               $('[loc]').eq(u).text(pznUSPValues[$('[loc]').eq(u).attr('loc')]);
             };
           };
           // Disclaimer
           $('.footer-left').append('<p class="pzn-terms">'+pznUSPValues['longterm']+'</p>');

        // Tracking Info ---------------------------------------
          $('.pzn-usp-cta a').on('click', function(){
            trackData($(this).attr('data-aa-evar-desc'));
          });

        document.documentElement.style.opacity = "1"; //at the very end of the main function to lessen flicker
        }

        /**** Check if jQuery exists ****/
        var checkingUSPjQuery = setInterval(function() {
        if (window.jQuery){
          if($('.pzn-usp-wrap').length==0 && $('section#kv-type2').length>0){
            clearInterval(checkingUSPjQuery); //clear interval (Always clear your timers/intervals when the task has been completed)
            canvasUSP(); //load main function
          };
        }else if(document.readyState === 'complete'){ //aditional chck in case jQuery never exists
            document.documentElement.style.opacity = "1"; //bring back current content so page does not stay blank
        };
        }, 100);
  <` + `/script>`;

    if ($('#im-select').find(":selected").val() === 'icon2') {
        jQuery(".code-block").val(s + '\n' + v);
        console.log('Single');
    } else {
        jQuery(".code-block").val(s + '\n' + c);
        console.log('Multiple');
    };



}